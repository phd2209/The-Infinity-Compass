# Feature: Unlock Full Year Forecast

**Branch**: `feature/unlock-full-year`
**Status**: Not Started
**Created**: 2026-01-11

---

## Overview

Monetize the Year Series Forecast by gating the full year view behind a one-time payment. Users currently see only their current period for free — paying unlocks visibility into all periods for the entire year.

---

## Tiered Product Structure

### Tier 1: "Year Ahead Preview" — $5.99

**What's Included:**
- Full year timeline view (all 11-15 periods visible)
- All period dates with start/end ranges
- Period numbers with compound forms (e.g., 11/2, 16/7)
- Brief meaning/archetype for each period
- Current period highlighting
- Chart year indicators

**User Experience:**
```
┌─────────────────────────────────────────────────────────────┐
│                     YOUR 2026 ENERGY MAP                    │
│                    "The Humanitarian Year"                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐  │
│  │  9  │ │  1  │ │  2  │ │  3  │ │  4  │ │  5  │ │  6  │  │
│  │     │ │     │ │     │ │     │ │     │ │     │ │     │  │
│  │ Jan │ │ Feb │ │ Mar │ │ Apr │ │ May │ │ Jun │ │ Jul │  │
│  │1-31 │ │1-28 │ │1-31 │ │1-30 │ │1-31 │ │1-30 │ │1-31 │  │
│  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘  │
│     ▲                                                       │
│  Current                                                    │
│                                                             │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐                   │
│  │  7  │ │  8  │ │  9  │ │  1  │ │  2  │                   │
│  │     │ │     │ │     │ │     │ │     │                   │
│  │ Aug │ │ Sep │ │ Oct │ │ Nov │ │ Dec │                   │
│  │1-31 │ │1-30 │ │1-31 │ │1-30 │ │1-31 │                   │
│  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘                   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  Period Meanings (expandable)                               │
│  └─ 9: "Completion & Release"                               │
│  └─ 1: "New Beginnings & Leadership"                        │
│  └─ 2: "Partnership & Balance"                              │
│  └─ ...                                                     │
└─────────────────────────────────────────────────────────────┘
```

**Value Proposition:**
- "See your entire year at a glance"
- "Know what energy is coming before it arrives"
- "Plan important decisions around your cosmic periods"

---

### Tier 2: "Complete Year Guide" PDF — $14.99

**What's Included:**
- Everything in Tier 1
- Downloadable PDF (beautifully designed)
- Personalized recommendations per period
- "How to navigate" guidance for each energy
- Key dates and transitions highlighted
- Printable energy calendar format
- Shareable aesthetic design

**PDF Structure:**
```
Page 1: Cover
  - User's name
  - Year (2026)
  - Personal year number + archetype

Page 2: Year Overview
  - Summary of the year's energy theme
  - Key transitions to watch
  - Chart year status (if applicable)

Pages 3-14: Monthly Spreads
  - Period number + name
  - Date range
  - Detailed meaning (2-3 paragraphs)
  - "Do this" recommendations (3 bullet points)
  - "Avoid this" warnings (2 bullet points)
  - Affirmation for the period

Page 15: Energy Calendar
  - Visual month-by-month calendar
  - Color-coded by energy type
  - Printable format

Back Cover:
  - The Infinity Compass branding
  - QR code to site
  - "Share your energy" CTA
```

---

## Energy Calendar Concept

A visual calendar showing all periods at a glance — available as:

### Digital Formats
- **Phone wallpaper** (1080x1920) — included in Tier 1
- **Desktop wallpaper** (1920x1080) — included in Tier 1
- **Instagram story size** (1080x1920) — shareable

### Physical Format (Future)
- **Printed poster** ($19.99 + shipping)
- **Desk calendar** ($24.99 + shipping)
- Premium paper, mystical design
- Ships with certificate of authenticity

### Calendar Design
```
╔═══════════════════════════════════════════════════════════════╗
║                                                               ║
║                    ✧ YOUR 2026 ENERGY MAP ✧                   ║
║                         [USER NAME]                           ║
║                                                               ║
╠═══════════════════════════════════════════════════════════════╣
║                                                               ║
║   JAN        FEB        MAR        APR        MAY        JUN  ║
║  ┌───┐      ┌───┐      ┌───┐      ┌───┐      ┌───┐      ┌───┐ ║
║  │ 9 │      │ 1 │      │ 2 │      │ 3 │      │ 4 │      │ 5 │ ║
║  │   │      │   │      │   │      │   │      │   │      │   │ ║
║  │ ◆ │      │ ◇ │      │ ◇ │      │ ◇ │      │ ◇ │      │ ◇ │ ║
║  └───┘      └───┘      └───┘      └───┘      └───┘      └───┘ ║
║  Complete   New        Partner    Creative   Stable     Free  ║
║                                                               ║
║   JUL        AUG        SEP        OCT        NOV        DEC  ║
║  ┌───┐      ┌───┐      ┌───┐      ┌───┐      ┌───┐      ┌───┐ ║
║  │ 6 │      │ 7 │      │ 8 │      │ 9 │      │ 1 │      │ 2 │ ║
║  │   │      │   │      │   │      │   │      │   │      │   │ ║
║  │ ◇ │      │ ◇ │      │ ◇ │      │ ◆ │      │ ◇ │      │ ◇ │ ║
║  └───┘      └───┘      └───┘      └───┘      └───┘      └───┘ ║
║  Nurture    Reflect    Manifest   Complete   New        Partner║
║                                                               ║
║                    ◆ = Chart Period                           ║
║                                                               ║
║               theinfinitycompass.com                          ║
╚═══════════════════════════════════════════════════════════════╝
```

---

## Free vs Paid Comparison

| Feature | Free | Tier 1 ($5.99) | Tier 2 ($14.99) |
|---------|------|----------------|-----------------|
| Current period | ✓ | ✓ | ✓ |
| Shareable card | ✓ | ✓ | ✓ |
| Full year timeline | ✗ | ✓ | ✓ |
| All period dates | ✗ | ✓ | ✓ |
| Period meanings | ✗ | ✓ | ✓ |
| Energy calendar wallpaper | ✗ | ✓ | ✓ |
| Downloadable PDF | ✗ | ✗ | ✓ |
| Personalized recommendations | ✗ | ✗ | ✓ |
| Navigation guidance | ✗ | ✗ | ✓ |
| Printable calendar | ✗ | ✗ | ✓ |

---

## User Flow

### Current (Free) Flow
```
Enter name + birthdate
        ↓
See current period only
        ↓
Share card (viral loop)
        ↓
[Teaser: "See your full year →"]
```

### Paid Flow
```
See current period (free)
        ↓
Click "Unlock Full Year" ($5.99)
        ↓
Stripe Checkout
        ↓
Return to site with full year unlocked
        ↓
View all periods + meanings
        ↓
[Optional: Download calendar wallpaper]
        ↓
[Upsell: "Get your PDF guide" → Tier 2]
```

---

## Implementation Notes

### Remove Duplicate Name/Birthdate Form
**IMPORTANT:** The current `YearForecastPage` (`/forecast`) has its own name and birth date form. When re-enabling this route, **remove that form entirely**. The user already enters name and birth date on the `/enter` route (IndividualReadingPage), and that data is available via `userData` props. The forecast page should receive `userData` as a prop (like CurrentEnergyPage and ShareableReadingPage do) instead of collecting it again.

---

## Technical Implementation

### Payment Integration
- **Provider**: Stripe Checkout (one-time payment)
- **Product IDs**:
  - `tier1_full_year_preview` — $5.99
  - `tier2_complete_year_guide` — $14.99
- **Success URL**: `/forecast?unlocked=true&session_id={CHECKOUT_SESSION_ID}`
- **Cancel URL**: `/forecast`

### Unlock State Management
```typescript
interface UnlockState {
  tier1Unlocked: boolean;
  tier2Unlocked: boolean;
  purchaseDate: string | null;
  stripeSessionId: string | null;
  // Scoped to specific user data
  unlockedFor: {
    name: string;
    birthDateStr: string;
  } | null;
}
```

### Storage Strategy
- **localStorage**: Store unlock state keyed to user's name + birthdate hash
- **No account required**: Unlock persists in browser
- **Limitation**: Different browser/device = needs repurchase (acceptable at this price point)

### API Endpoints Needed
```
POST /api/create-checkout-session
  - body: { tier: 'tier1' | 'tier2', userData: { name, birthDate } }
  - returns: { sessionUrl: string }

GET /api/verify-purchase
  - query: { session_id: string }
  - returns: { valid: boolean, tier: string, userData: object }
```

---

## Tier 1 Implementation Todo List

### Phase 1: Stripe Setup
- [ ] **1.1 Create Stripe Account/Product**
  - Set up Stripe account (if not exists)
  - Create product: "Year Ahead Preview"
  - Set price: $5.99 (or $6.99/$7.99 for testing)
  - Get product/price IDs

- [ ] **1.2 Create Checkout API Endpoint**
  - Create `api/create-checkout-session.ts`
  - Accept tier and user data
  - Create Stripe checkout session
  - Return session URL for redirect

- [ ] **1.3 Create Verification API Endpoint**
  - Create `api/verify-purchase.ts`
  - Verify Stripe session ID
  - Return purchase validity and tier

### Phase 2: Frontend Integration
- [ ] **2.1 Create Unlock State Context**
  - Add `UnlockContext` or extend existing context
  - Track tier1/tier2 unlock status
  - Persist to localStorage
  - Scope unlocks to user data (name + birthdate)

- [ ] **2.2 Update YearForecastCard Component**
  - Gate full year view behind unlock state
  - Show teaser for locked periods (blurred or hidden)
  - Add "Unlock Full Year" CTA button
  - Handle loading state during checkout

- [ ] **2.3 Create Paywall UI Component**
  - "Unlock Full Year" modal or inline section
  - Price display ($5.99)
  - Value proposition bullet points
  - "Secure checkout with Stripe" badge
  - Loading state while redirecting

- [ ] **2.4 Handle Checkout Return**
  - Parse `?unlocked=true&session_id=` from URL
  - Call verify-purchase API
  - Update unlock state on success
  - Show success message/animation
  - Clear URL params

### Phase 3: Full Year View
- [ ] **3.1 Design Full Year Timeline UI**
  - Grid/timeline layout for all periods
  - Mobile-responsive (scrollable or stacked)
  - Visual distinction for current period
  - Chart year indicators

- [ ] **3.2 Add Period Meanings**
  - Create period meaning content (1-9, 11, 22, 33)
  - Expandable accordions or modals
  - Keep copy concise but valuable

- [ ] **3.3 Create Energy Calendar Wallpaper**
  - Design calendar image template
  - Generate personalized wallpaper (Canvas API or server-side)
  - Download button for phone/desktop sizes

### Phase 4: Polish & Testing
- [ ] **4.1 Test Purchase Flow**
  - Test Stripe checkout in test mode
  - Verify success redirect
  - Verify unlock persistence
  - Test with different user data

- [ ] **4.2 Handle Edge Cases**
  - What if user clears localStorage? (Re-verify via session?)
  - What if checkout is abandoned?
  - What if user changes name/birthdate after purchase?

- [ ] **4.3 Add Analytics**
  - Track "Unlock" button clicks
  - Track checkout starts vs completions
  - Track conversion rate

- [ ] **4.4 Mobile Testing**
  - Test on iOS Safari
  - Test on Android Chrome
  - Ensure checkout flow works on mobile

### Phase 5: Launch
- [ ] **5.1 Switch to Stripe Live Mode**
  - Update API keys to production
  - Verify webhook setup (if using)
  - Test one real purchase

- [ ] **5.2 Add to ShareableReadingPage**
  - CTA from main reading page to forecast
  - "See your full 2026" upsell

- [ ] **5.3 Update CLAUDE.md**
  - Document the feature
  - Add to active features section

---

## Content: Period Meanings

Brief meanings for each period number (used in Tier 1):

| Number | Name | Brief Meaning |
|--------|------|---------------|
| 1 | New Beginnings | Start fresh, take initiative, lead |
| 2 | Partnership | Collaborate, be patient, seek balance |
| 3 | Expression | Create, communicate, enjoy life |
| 4 | Foundation | Build, organize, work steadily |
| 5 | Change | Embrace freedom, adapt, take risks |
| 6 | Nurturing | Care for others, create harmony, serve |
| 7 | Reflection | Go inward, study, trust intuition |
| 8 | Achievement | Manifest, lead with power, succeed |
| 9 | Completion | Release, give back, prepare for new cycle |
| 11 | Illumination | Spiritual insights, inspiration, sensitivity |
| 22 | Master Builder | Big visions, practical mastery, legacy |
| 33 | Master Teacher | Healing, compassion, selfless service |

---

## Pricing Strategy

### Recommended: $5.99
- Sits in "impulse purchase" zone
- Not so cheap it feels low-value
- Comparable to: coffee, mobile game purchase, single song

### Alternative Testing:
- **$4.99** — Psychological "under $5" threshold
- **$6.99** — Slightly higher, still impulse
- **$7.99** — Tests upper bound of impulse zone

### Future Considerations:
- A/B test pricing once traffic exists
- Consider regional pricing
- Holiday promotions (New Year = peak numerology interest)

---

## Success Metrics

| Metric | Target |
|--------|--------|
| Conversion rate (view → unlock) | 2-5% |
| Checkout completion rate | 70%+ |
| Revenue per 1000 visitors | $12-30 |
| Refund rate | <5% |

---

## Future Enhancements (Post-MVP)

1. **Tier 2 PDF Generation** — After Tier 1 proves demand
2. **Email delivery** — Send PDF via email for better UX
3. **Multi-year unlock** — Discount for unlocking 2-3 years
4. **Gift purchases** — "Buy for a friend"
5. **Physical calendar** — Print-on-demand integration
6. **Subscription model** — Monthly detailed forecasts
